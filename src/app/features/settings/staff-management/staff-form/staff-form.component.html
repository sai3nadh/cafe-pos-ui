<div class="form-container">
<h2>{{ isEditMode ? 'Edit Staff' : 'Add New Staff' }}</h2>

<form [formGroup]="form" (ngSubmit)="submit()">

    <!-- Staff Info -->
    <label for="firstName">First Name</label>
    <input id="firstName" type="text" formControlName="firstName" placeholder="Enter first name" />

    <label for="lastName">Last Name</label>
    <input id="lastName" type="text" formControlName="lastName" placeholder="Enter last name" />

    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" placeholder="Enter email address" />

    <label for="phoneNumber">Phone Number</label>
    <input id="phoneNumber" type="tel" formControlName="phoneNumber" placeholder="Enter phone number" />

    <!-- Account Info -->
    <label for="username">Username</label>
    <input id="username" type="text" formControlName="username" placeholder="Choose a username" />

    <!-- Password & PIN (only shown in ADD mode) -->
    
    <div *ngIf="!isEditMode" class="account-credentials">
        <div class="form-grid">
          <div>
            <label for="password">Password</label>
            <input id="password" type="password" formControlName="password" placeholder="Enter password" />
          </div>
          <div>
            <label for="confirmPassword">Confirm Password</label>
            <input id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="Confirm password" />
          </div>
          <div>
            <label for="accessPin">4-Digit PIN</label>
            <input id="accessPin" type="text" maxlength="4" formControlName="accessPin" placeholder="Enter 4-digit PIN" />
          </div>
          <div>
            <label for="confirmPin">Confirm PIN</label>
            <input id="confirmPin" type="text" maxlength="4" formControlName="confirmPin" placeholder="Confirm 4-digit PIN" />
          </div>
        </div>
      </div>
      
      
    <!-- Role Selection -->
    <label for="roleId">Role</label>
    <select id="roleId" formControlName="roleId">
    <option *ngFor="let role of roles" [value]="role.roleId">{{ role.name }}</option>
    </select>

    <!-- Security Actions (only in EDIT mode) -->
    <div *ngIf="isEditMode" class="security-actions">
    <p><strong>Security Actions:</strong></p>
    <button type="button" [disabled]="true" (click)="openPasswordModal()">ðŸ”’ Update Password</button>
    <button type="button" [disabled]="true" (click)="openPinModal()">ðŸ”‘ Update Access PIN</button>
    </div>

    <!-- Feedback Messages -->
    <div *ngIf="successMessage" class="message success">
    {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="message error">
    {{ errorMessage }}
    </div>

    <!-- Action Buttons -->
    <div class="button-group">
    <button type="submit">{{ isEditMode ? 'Update Info' : 'Register' }}</button>
    <button type="button" (click)="cancel()">Cancel</button>
    </div>
</form>
</div>
