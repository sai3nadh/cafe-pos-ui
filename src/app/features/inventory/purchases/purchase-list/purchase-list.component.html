<!-- <p>purchase-list works!</p> -->
<!-- <div class="purchase-list-header">
    <button (click)="onAdd()">â• Add Purchase</button>
  </div>
  
  <table class="purchase-table">
    <thead>
      <tr>
        <th>#</th>
        <th>Supplier</th>
        <th>Total</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of purchases">
        <td>{{ p.id }}</td>
        <td>{{ p.supplier }}</td>
        <td>â‚¹{{ p.total }}</td>
        <td>{{ p.status }}</td>
        <td><button (click)="onView(p.id)">ğŸ‘ View</button></td>
      </tr>
    </tbody>
  </table>
   -->
<!-- 
   <div class="page-container">
    <div class="purchase-section">
      <div class="section-header">
        <h2>Purchases</h2>
        <button (click)="onAdd()">â• Add Purchase</button>
      </div>
  
      <table class="purchase-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Supplier</th>
            <th>Total</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of purchases">
            <td>{{ p.id }}</td>
            <td>{{ p.supplier }}</td>
            <td>â‚¹{{ p.total }}</td>
            <td>{{ p.status }}</td>
            <td><button (click)="onView(p.id)">ğŸ‘ View</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
   -->

   
   <div class="page-container">
    <div class="purchase-section">
      <div class="section-header">
        <h2>Purchases</h2>
        <button (click)="onAdd()">â• Add Purchase</button>
      </div>
  
      <table  class="purchase-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Supplier</th>
            <th>Total</th>
            <th>Paid</th>
            <th>Status</th>
            <th>Date</th>
            <th class="items-column">Items</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of purchases">
            <!-- <td>{{ p.purchaseNumber }}</td> -->
             <td>{{ getShortPurchaseNumber( p.purchaseNumber) }}</td>
           <td>{{ p.supplierName }}</td>
            <td>{{ p.totalAmount | number:'1.2-2' }}</td>
            <td>{{ p.paidAmount | number:'1.2-2' }}</td>
            <td>{{ p.status }}</td>
            <!-- <td>{{ p.purchaseDate | date:'shortDate' }}</td> -->
            <td>{{ p.purchaseDate | date:'dd MMM y' }}</td>
            <td class="items-column">{{ getItemSummary(p) }}</td>
            <td>
              <button (click)="onView(p.purchaseId)">View</button>
            </td>
          </tr>
        </tbody>
      </table>
      
      <div *ngIf="loading">Loading purchases...</div>
      <div *ngIf="error">{{ error }}</div>
      
      <!-- <table class="purchase-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Supplier</th>
            <th>Total</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of purchases">
            <td data-label="#"> {{ p.id }} </td>
            <td data-label="Supplier"> {{ p.supplier }} </td>
            <td data-label="Total"> â‚¹{{ p.total }} </td>
            <td data-label="Status"> {{ p.status }} </td>
            <td data-label="Action">
              <button (click)="onView(p.id)">ğŸ‘ View</button>
            </td>
          </tr>
        </tbody>
      </table> -->
    </div>
  </div>
  